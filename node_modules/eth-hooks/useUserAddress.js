import { useState, useEffect } from 'react';
import { parseProviderOrSigner } from "./functions";
/**
 * Get the address from the current signer or provider
 * @param providerOrSigner (TEthersProviderOrSigner)
 * @returns (string) :: address
 */
export const useUserAddress = (providerOrSigner) => {
    const [userAddress, setUserAddress] = useState('');
    useEffect(() => {
        const getUserAddress = async (providerOrSigner) => {
            var _a;
            const result = await parseProviderOrSigner(providerOrSigner);
            if (result.signer) {
                const address = await ((_a = result.signer) === null || _a === void 0 ? void 0 : _a.getAddress());
                setUserAddress(address);
            }
        };
        if (providerOrSigner)
            void getUserAddress(providerOrSigner);
    }, [providerOrSigner]);
    return userAddress;
};
