{"ast":null,"code":"import _objectSpread from\"/Users/untitled/challenge-4-single-pool-dex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/untitled/challenge-4-single-pool-dex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/untitled/challenge-4-single-pool-dex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/untitled/challenge-4-single-pool-dex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{utils,ethers}from\"ethers\";import{Button,Input,Form,Select,InputNumber,Table,Radio}from\"antd\";import React,{useState,useEffect}from\"react\";import{useContractLoader,useOnBlock}from\"eth-hooks\";import{NETWORKS}from\"../constants\";import{Transactor}from\"../helpers\";/*\nThis is a component for bridging between L1 & L2\nCurrently it supports Testnet deposits for Arbitrum & Optimism\n\n __          _______ _____\n \\ \\        / /_   _|  __ \\\n  \\ \\  /\\  / /  | | | |__) |\n   \\ \\/  \\/ /   | | |  ___/\n    \\  /\\  /   _| |_| |\n     \\/  \\/   |_____|_|\n\n\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function L2ArbitrumBridge(_ref){var address=_ref.address,userSigner=_ref.userSigner;var _useState=useState(\"...\"),_useState2=_slicedToArray(_useState,2),L1EthBalance=_useState2[0],setL1EthBalance=_useState2[1];var _useState3=useState(\"...\"),_useState4=_slicedToArray(_useState3,2),L2EthBalance=_useState4[0],setL2EthBalance=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),L1Provider=_useState6[0],setL1Provider=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),L2Provider=_useState8[0],setL2Provider=_useState8[1];var _useState9=useState(\"arbitrum\"),_useState10=_slicedToArray(_useState9,2),rollup=_useState10[0],setRollup=_useState10[1];var _useState11=useState(\"test\"),_useState12=_slicedToArray(_useState11,1),environment=_useState12[0];var rollupConfig={arbitrum:{test:{L1:NETWORKS.rinkeby,L2:NETWORKS.rinkebyArbitrum},main:{L1:NETWORKS.mainnet,L2:NETWORKS.arbitrum},local:{L1:NETWORKS.localArbitrumL1,L2:NETWORKS.localArbitrum}},optimism:{test:{L1:NETWORKS.kovan,L2:NETWORKS.kovanOptimism},local:{L1:NETWORKS.localOptimismL1,L2:NETWORKS.localOptimism}}};var activeConfig=rollupConfig[rollup][environment];var selectedChainId=userSigner&&userSigner.provider&&userSigner.provider._network&&userSigner.provider._network.chainId;var tx=Transactor(userSigner);useEffect(function(){function setProviders(){return _setProviders.apply(this,arguments);}function _setProviders(){_setProviders=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var L1,L2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:L1=activeConfig.L1;L2=activeConfig.L2;setL1Provider(new ethers.providers.StaticJsonRpcProvider(L1.rpcUrl));setL2Provider(new ethers.providers.StaticJsonRpcProvider(L2.rpcUrl));setL1EthBalance(\"...\");setL2EthBalance(\"...\");case 6:case\"end\":return _context.stop();}}},_callee);}));return _setProviders.apply(this,arguments);}setProviders();},[rollup,activeConfig.L1,activeConfig.L2]);var contracts=useContractLoader(userSigner,{externalContracts:L1BridgeMetadata,hardhatContracts:{}});useOnBlock(L1Provider,/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var yourL1Balance,yourL2Balance;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"\\u26D3 A new mainnet block is here: \".concat(L1Provider._lastBlockNumber));_context2.next=3;return L1Provider.getBalance(address);case 3:yourL1Balance=_context2.sent;setL1EthBalance(yourL1Balance?ethers.utils.formatEther(yourL1Balance):\"...\");_context2.next=7;return L2Provider.getBalance(address);case 7:yourL2Balance=_context2.sent;setL2EthBalance(yourL2Balance?ethers.utils.formatEther(yourL2Balance):\"...\");case 9:case\"end\":return _context2.stop();}}},_callee2);})));var Option=Select.Option;var formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:12}}};var tailFormItemLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:12,offset:8}}};var columns=[{title:\"\",dataIndex:\"token\",key:\"token\",align:\"center\"},{title:\"\".concat(activeConfig.L1.name,\" L1 Balance\"),dataIndex:\"l1\",key:\"l1\",align:\"center\"},{title:\"\".concat(activeConfig.L1.name,\" \").concat(rollup,\" Balance\"),dataIndex:\"l2\",key:\"l2\",align:\"center\"}];var data=[{key:\"1\",token:\"ETH\",l1:\"Ξ\"+L1EthBalance,l2:\"Ξ\"+L2EthBalance}];var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var onAssetChange=function onAssetChange(value){console.log(value);};function onFinish(_x){return _onFinish.apply(this,arguments);}function _onFinish(){_onFinish=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(values){var newTx;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(contracts);console.log(values.amount.toString());console.log(rollup);_context3.prev=3;if(!(rollup===\"arbitrum\")){_context3.next=10;break;}_context3.next=7;return tx(contracts.Inbox.depositEth(1300000,{value:utils.parseEther(values.amount.toString()),gasLimit:300000}));case 7:newTx=_context3.sent;_context3.next=14;break;case 10:if(!(rollup===\"optimism\")){_context3.next=14;break;}_context3.next=13;return tx(contracts.OVM_L1StandardBridge.depositETH(1300000,\"0x\",{value:utils.parseEther(values.amount.toString())}));case 13:newTx=_context3.sent;case 14:_context3.next=16;return newTx.wait();case 16:console.log(\"woop!\");_context3.next=23;break;case 19:_context3.prev=19;_context3.t0=_context3[\"catch\"](3);console.log(_context3.t0);console.log(\"something went wrong!\");case 23:case\"end\":return _context3.stop();}}},_callee3,null,[[3,19]]);}));return _onFinish.apply(this,arguments);}var wrongNetwork=selectedChainId!==activeConfig.L1.chainId;return/*#__PURE__*/_jsx(\"div\",{style:{padding:16,width:800,margin:\"auto\",marginBottom:128},children:/*#__PURE__*/_jsxs(\"div\",{style:{border:\"1px solid #cccccc\",padding:16,width:800,margin:\"auto\",marginBottom:128},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to the L2 Deposit Bridge!\"}),/*#__PURE__*/_jsxs(Radio.Group,{value:rollup,onChange:function onChange(e){setRollup(e.target.value);},style:{marginBottom:10},children:[/*#__PURE__*/_jsx(Radio.Button,{value:\"arbitrum\",children:\"Arbitrum\"}),/*#__PURE__*/_jsx(Radio.Button,{value:\"optimism\",children:\"Optimism\"})]}),/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:data,pagination:false,style:{marginBottom:20}}),/*#__PURE__*/_jsxs(Form,_objectSpread(_objectSpread({},formItemLayout),{},{form:form,name:\"control-hooks\",onFinish:onFinish,initialValues:{assetType:\"eth\"},children:[/*#__PURE__*/_jsx(Form.Item,{name:\"assetType\",label:\"Select Asset Type\",rules:[{required:true}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"Select an asset type\",onChange:onAssetChange,allowClear:true,children:[/*#__PURE__*/_jsx(Option,{value:\"eth\",children:\"ETH\"}),/*#__PURE__*/_jsx(Option,{disabled:true,value:\"erc20\",children:\"ERC-20\"})]})}),/*#__PURE__*/_jsx(Form.Item,{name:\"address\",label:\"Address\",children:/*#__PURE__*/_jsx(Input,{disabled:true,placeholder:address})}),/*#__PURE__*/_jsx(Form.Item,{name:\"amount\",label:\"Amount to bridge\",rules:[{required:true}],children:/*#__PURE__*/_jsx(InputNumber,{})}),/*#__PURE__*/_jsx(Form.Item,_objectSpread(_objectSpread({},tailFormItemLayout),{},{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",disabled:wrongNetwork,children:wrongNetwork?\"Switch wallet to \".concat(activeConfig.L1.name):\"Deposit\"})}))]}))]})});}// Arbitrum Inbox https://rinkeby.etherscan.io/address/0xa157dc79ca26d69c3b1282d03ec42bdee2790a8f#code\nvar ArbitrumInboxABI=[{anonymous:false,inputs:[{indexed:true,internalType:\"uint256\",name:\"messageNum\",type:\"uint256\"},{indexed:false,internalType:\"bytes\",name:\"data\",type:\"bytes\"}],name:\"InboxMessageDelivered\",type:\"event\"},{anonymous:false,inputs:[{indexed:true,internalType:\"uint256\",name:\"messageNum\",type:\"uint256\"}],name:\"InboxMessageDeliveredFromOrigin\",type:\"event\"},{anonymous:false,inputs:[{indexed:false,internalType:\"address\",name:\"newSource\",type:\"address\"}],name:\"WhitelistSourceUpdated\",type:\"event\"},{inputs:[],name:\"bridge\",outputs:[{internalType:\"contract IBridge\",name:\"\",type:\"address\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"destAddr\",type:\"address\"},{internalType:\"uint256\",name:\"l2CallValue\",type:\"uint256\"},{internalType:\"uint256\",name:\"maxSubmissionCost\",type:\"uint256\"},{internalType:\"address\",name:\"excessFeeRefundAddress\",type:\"address\"},{internalType:\"address\",name:\"callValueRefundAddress\",type:\"address\"},{internalType:\"uint256\",name:\"maxGas\",type:\"uint256\"},{internalType:\"uint256\",name:\"gasPriceBid\",type:\"uint256\"},{internalType:\"bytes\",name:\"data\",type:\"bytes\"}],name:\"createRetryableTicket\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"maxSubmissionCost\",type:\"uint256\"}],name:\"depositEth\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[{internalType:\"contract IBridge\",name:\"_bridge\",type:\"address\"},{internalType:\"address\",name:\"_whitelist\",type:\"address\"}],name:\"initialize\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[],name:\"isMaster\",outputs:[{internalType:\"bool\",name:\"\",type:\"bool\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"maxGas\",type:\"uint256\"},{internalType:\"uint256\",name:\"gasPriceBid\",type:\"uint256\"},{internalType:\"address\",name:\"destAddr\",type:\"address\"},{internalType:\"uint256\",name:\"amount\",type:\"uint256\"},{internalType:\"bytes\",name:\"data\",type:\"bytes\"}],name:\"sendContractTransaction\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"maxGas\",type:\"uint256\"},{internalType:\"uint256\",name:\"gasPriceBid\",type:\"uint256\"},{internalType:\"address\",name:\"destAddr\",type:\"address\"},{internalType:\"bytes\",name:\"data\",type:\"bytes\"}],name:\"sendL1FundedContractTransaction\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"maxGas\",type:\"uint256\"},{internalType:\"uint256\",name:\"gasPriceBid\",type:\"uint256\"},{internalType:\"uint256\",name:\"nonce\",type:\"uint256\"},{internalType:\"address\",name:\"destAddr\",type:\"address\"},{internalType:\"bytes\",name:\"data\",type:\"bytes\"}],name:\"sendL1FundedUnsignedTransaction\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"payable\",type:\"function\"},{inputs:[{internalType:\"bytes\",name:\"messageData\",type:\"bytes\"}],name:\"sendL2Message\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"bytes\",name:\"messageData\",type:\"bytes\"}],name:\"sendL2MessageFromOrigin\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"maxGas\",type:\"uint256\"},{internalType:\"uint256\",name:\"gasPriceBid\",type:\"uint256\"},{internalType:\"uint256\",name:\"nonce\",type:\"uint256\"},{internalType:\"address\",name:\"destAddr\",type:\"address\"},{internalType:\"uint256\",name:\"amount\",type:\"uint256\"},{internalType:\"bytes\",name:\"data\",type:\"bytes\"}],name:\"sendUnsignedTransaction\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"address\",name:\"newSource\",type:\"address\"}],name:\"updateWhitelistSource\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[],name:\"whitelist\",outputs:[{internalType:\"address\",name:\"\",type:\"address\"}],stateMutability:\"view\",type:\"function\"}];// https://github.com/ethereum-optimism/optimism/blob/2bd49730fa8d2c10953873f0ccc792198a49d5c9/packages/contracts/contracts/optimistic-ethereum/iOVM/bridge/tokens/iOVM_L1StandardBridge.sol\nvar OVM_L1StandardBridgeABI=[\"function depositETH(uint32 _l2Gas,bytes calldata _data) external payable\",\"function depositETHTo(address _to,uint32 _l2Gas,bytes calldata _data) external payable\",\"function finalizeETHWithdrawal (address _from,address _to,uint _amount,bytes calldata _data) external\"];var L1BridgeMetadata={// Arbitrium Contract's\n44010:{contracts:{Inbox:{address:\"0xA4d796Ad4e79aFB703340a596AEd88f8a5924183\",abi:ArbitrumInboxABI}}},4:{contracts:{Inbox:{address:\"0x578bade599406a8fe3d24fd7f7211c0911f5b29e\",abi:ArbitrumInboxABI}}},// Optimism Contract's\n31337:{contracts:{OVM_L1StandardBridge:{address:\"0x998abeb3E57409262aE5b751f60747921B33613E\",abi:OVM_L1StandardBridgeABI}}},42:{contracts:{OVM_L1StandardBridge:{address:\"0x22F24361D548e5FaAfb36d1437839f080363982B\",abi:OVM_L1StandardBridgeABI}}}};","map":{"version":3,"sources":["/Users/untitled/challenge-4-single-pool-dex/packages/react-app/src/components/L2Bridge.jsx"],"names":["utils","ethers","Button","Input","Form","Select","InputNumber","Table","Radio","React","useState","useEffect","useContractLoader","useOnBlock","NETWORKS","Transactor","L2ArbitrumBridge","address","userSigner","L1EthBalance","setL1EthBalance","L2EthBalance","setL2EthBalance","L1Provider","setL1Provider","L2Provider","setL2Provider","rollup","setRollup","environment","rollupConfig","arbitrum","test","L1","rinkeby","L2","rinkebyArbitrum","main","mainnet","local","localArbitrumL1","localArbitrum","optimism","kovan","kovanOptimism","localOptimismL1","localOptimism","activeConfig","selectedChainId","provider","_network","chainId","tx","setProviders","providers","StaticJsonRpcProvider","rpcUrl","contracts","externalContracts","L1BridgeMetadata","hardhatContracts","console","log","_lastBlockNumber","getBalance","yourL1Balance","formatEther","yourL2Balance","Option","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","columns","title","dataIndex","key","align","name","data","token","l1","l2","useForm","form","onAssetChange","value","onFinish","values","amount","toString","Inbox","depositEth","parseEther","gasLimit","newTx","OVM_L1StandardBridge","depositETH","wait","wrongNetwork","padding","width","margin","marginBottom","border","e","target","assetType","required","ArbitrumInboxABI","anonymous","inputs","indexed","internalType","type","outputs","stateMutability","OVM_L1StandardBridgeABI","abi"],"mappings":"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","sourcesContent":["import { utils, ethers } from \"ethers\";\nimport { Button, Input, Form, Select, InputNumber, Table, Radio } from \"antd\";\nimport React, { useState, useEffect } from \"react\";\nimport { useContractLoader, useOnBlock } from \"eth-hooks\";\nimport { NETWORKS } from \"../constants\";\nimport { Transactor } from \"../helpers\";\n\n/*\nThis is a component for bridging between L1 & L2\nCurrently it supports Testnet deposits for Arbitrum & Optimism\n\n __          _______ _____\n \\ \\        / /_   _|  __ \\\n  \\ \\  /\\  / /  | | | |__) |\n   \\ \\/  \\/ /   | | |  ___/\n    \\  /\\  /   _| |_| |\n     \\/  \\/   |_____|_|\n\n\n*/\n\nexport default function L2ArbitrumBridge({ address, userSigner }) {\n  const [L1EthBalance, setL1EthBalance] = useState(\"...\");\n  const [L2EthBalance, setL2EthBalance] = useState(\"...\");\n  const [L1Provider, setL1Provider] = useState(\"\");\n  const [L2Provider, setL2Provider] = useState(\"\");\n  const [rollup, setRollup] = useState(\"arbitrum\");\n  const [environment] = useState(\"test\");\n\n  const rollupConfig = {\n    arbitrum: {\n      test: { L1: NETWORKS.rinkeby, L2: NETWORKS.rinkebyArbitrum },\n      main: { L1: NETWORKS.mainnet, L2: NETWORKS.arbitrum },\n      local: { L1: NETWORKS.localArbitrumL1, L2: NETWORKS.localArbitrum },\n    },\n    optimism: {\n      test: { L1: NETWORKS.kovan, L2: NETWORKS.kovanOptimism },\n      local: { L1: NETWORKS.localOptimismL1, L2: NETWORKS.localOptimism },\n    },\n  };\n\n  const activeConfig = rollupConfig[rollup][environment];\n\n  const selectedChainId =\n    userSigner && userSigner.provider && userSigner.provider._network && userSigner.provider._network.chainId;\n\n  const tx = Transactor(userSigner);\n\n  useEffect(() => {\n    async function setProviders() {\n      const L1 = activeConfig.L1;\n      const L2 = activeConfig.L2;\n      setL1Provider(new ethers.providers.StaticJsonRpcProvider(L1.rpcUrl));\n      setL2Provider(new ethers.providers.StaticJsonRpcProvider(L2.rpcUrl));\n      setL1EthBalance(\"...\");\n      setL2EthBalance(\"...\");\n    }\n    setProviders();\n  }, [rollup, activeConfig.L1, activeConfig.L2]);\n\n  const contracts = useContractLoader(userSigner, { externalContracts: L1BridgeMetadata, hardhatContracts: {} });\n\n  useOnBlock(L1Provider, async () => {\n    console.log(`⛓ A new mainnet block is here: ${L1Provider._lastBlockNumber}`);\n    const yourL1Balance = await L1Provider.getBalance(address);\n    setL1EthBalance(yourL1Balance ? ethers.utils.formatEther(yourL1Balance) : \"...\");\n    const yourL2Balance = await L2Provider.getBalance(address);\n    setL2EthBalance(yourL2Balance ? ethers.utils.formatEther(yourL2Balance) : \"...\");\n  });\n\n  const { Option } = Select;\n  const formItemLayout = {\n    labelCol: {\n      xs: { span: 24 },\n      sm: { span: 8 },\n    },\n    wrapperCol: {\n      xs: { span: 24 },\n      sm: { span: 12 },\n    },\n  };\n  const tailFormItemLayout = {\n    wrapperCol: {\n      xs: {\n        span: 24,\n        offset: 0,\n      },\n      sm: {\n        span: 12,\n        offset: 8,\n      },\n    },\n  };\n\n  const columns = [\n    {\n      title: \"\",\n      dataIndex: \"token\",\n      key: \"token\",\n      align: \"center\",\n    },\n    {\n      title: `${activeConfig.L1.name} L1 Balance`,\n      dataIndex: \"l1\",\n      key: \"l1\",\n      align: \"center\",\n    },\n    {\n      title: `${activeConfig.L1.name} ${rollup} Balance`,\n      dataIndex: \"l2\",\n      key: \"l2\",\n      align: \"center\",\n    },\n  ];\n\n  const data = [\n    {\n      key: \"1\",\n      token: \"ETH\",\n      l1: \"Ξ\" + L1EthBalance,\n      l2: \"Ξ\" + L2EthBalance,\n    },\n  ];\n\n  const [form] = Form.useForm();\n\n  const onAssetChange = value => {\n    console.log(value);\n  };\n\n  async function onFinish(values) {\n    console.log(contracts);\n    console.log(values.amount.toString());\n    console.log(rollup);\n    let newTx;\n    try {\n      if (rollup === \"arbitrum\") {\n        newTx = await tx(\n          contracts.Inbox.depositEth(1_300_000, {\n            value: utils.parseEther(values.amount.toString()),\n            gasLimit: 300000,\n          }),\n        );\n      } else if (rollup === \"optimism\") {\n        newTx = await tx(\n          contracts.OVM_L1StandardBridge.depositETH(1_300_000, \"0x\", {\n            value: utils.parseEther(values.amount.toString()),\n          }),\n        );\n      }\n      await newTx.wait();\n      console.log(\"woop!\");\n    } catch (e) {\n      console.log(e);\n      console.log(\"something went wrong!\");\n    }\n  }\n\n  const wrongNetwork = selectedChainId !== activeConfig.L1.chainId;\n\n  return (\n    <div style={{ padding: 16, width: 800, margin: \"auto\", marginBottom: 128 }}>\n      <div style={{ border: \"1px solid #cccccc\", padding: 16, width: 800, margin: \"auto\", marginBottom: 128 }}>\n        <h2>Welcome to the L2 Deposit Bridge!</h2>\n        <Radio.Group\n          value={rollup}\n          onChange={e => {\n            setRollup(e.target.value);\n          }}\n          style={{ marginBottom: 10 }}\n        >\n          <Radio.Button value=\"arbitrum\">Arbitrum</Radio.Button>\n          <Radio.Button value=\"optimism\">Optimism</Radio.Button>\n        </Radio.Group>\n\n        <Table columns={columns} dataSource={data} pagination={false} style={{ marginBottom: 20 }} />\n\n        <Form\n          {...formItemLayout}\n          form={form}\n          name=\"control-hooks\"\n          onFinish={onFinish}\n          initialValues={{ assetType: \"eth\" }}\n        >\n          <Form.Item\n            name=\"assetType\"\n            label=\"Select Asset Type\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Select placeholder=\"Select an asset type\" onChange={onAssetChange} allowClear>\n              <Option value=\"eth\">ETH</Option>\n              <Option disabled value=\"erc20\">\n                ERC-20\n              </Option>\n            </Select>\n          </Form.Item>\n          <Form.Item name=\"address\" label=\"Address\">\n            <Input disabled placeholder={address} />\n          </Form.Item>\n          <Form.Item\n            name=\"amount\"\n            label=\"Amount to bridge\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <InputNumber />\n          </Form.Item>\n          <Form.Item {...tailFormItemLayout}>\n            <Button type=\"primary\" htmlType=\"submit\" disabled={wrongNetwork}>\n              {wrongNetwork ? `Switch wallet to ${activeConfig.L1.name}` : \"Deposit\"}\n            </Button>\n          </Form.Item>\n        </Form>\n      </div>\n    </div>\n  );\n}\n\n// Arbitrum Inbox https://rinkeby.etherscan.io/address/0xa157dc79ca26d69c3b1282d03ec42bdee2790a8f#code\nconst ArbitrumInboxABI = [\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: \"uint256\", name: \"messageNum\", type: \"uint256\" },\n      { indexed: false, internalType: \"bytes\", name: \"data\", type: \"bytes\" },\n    ],\n    name: \"InboxMessageDelivered\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [{ indexed: true, internalType: \"uint256\", name: \"messageNum\", type: \"uint256\" }],\n    name: \"InboxMessageDeliveredFromOrigin\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [{ indexed: false, internalType: \"address\", name: \"newSource\", type: \"address\" }],\n    name: \"WhitelistSourceUpdated\",\n    type: \"event\",\n  },\n  {\n    inputs: [],\n    name: \"bridge\",\n    outputs: [{ internalType: \"contract IBridge\", name: \"\", type: \"address\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"destAddr\", type: \"address\" },\n      { internalType: \"uint256\", name: \"l2CallValue\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"maxSubmissionCost\", type: \"uint256\" },\n      { internalType: \"address\", name: \"excessFeeRefundAddress\", type: \"address\" },\n      { internalType: \"address\", name: \"callValueRefundAddress\", type: \"address\" },\n      { internalType: \"uint256\", name: \"maxGas\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"gasPriceBid\", type: \"uint256\" },\n      { internalType: \"bytes\", name: \"data\", type: \"bytes\" },\n    ],\n    name: \"createRetryableTicket\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"maxSubmissionCost\", type: \"uint256\" }],\n    name: \"depositEth\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"contract IBridge\", name: \"_bridge\", type: \"address\" },\n      { internalType: \"address\", name: \"_whitelist\", type: \"address\" },\n    ],\n    name: \"initialize\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"isMaster\",\n    outputs: [{ internalType: \"bool\", name: \"\", type: \"bool\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"uint256\", name: \"maxGas\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"gasPriceBid\", type: \"uint256\" },\n      { internalType: \"address\", name: \"destAddr\", type: \"address\" },\n      { internalType: \"uint256\", name: \"amount\", type: \"uint256\" },\n      { internalType: \"bytes\", name: \"data\", type: \"bytes\" },\n    ],\n    name: \"sendContractTransaction\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"uint256\", name: \"maxGas\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"gasPriceBid\", type: \"uint256\" },\n      { internalType: \"address\", name: \"destAddr\", type: \"address\" },\n      { internalType: \"bytes\", name: \"data\", type: \"bytes\" },\n    ],\n    name: \"sendL1FundedContractTransaction\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"uint256\", name: \"maxGas\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"gasPriceBid\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"nonce\", type: \"uint256\" },\n      { internalType: \"address\", name: \"destAddr\", type: \"address\" },\n      { internalType: \"bytes\", name: \"data\", type: \"bytes\" },\n    ],\n    name: \"sendL1FundedUnsignedTransaction\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"bytes\", name: \"messageData\", type: \"bytes\" }],\n    name: \"sendL2Message\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"bytes\", name: \"messageData\", type: \"bytes\" }],\n    name: \"sendL2MessageFromOrigin\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"uint256\", name: \"maxGas\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"gasPriceBid\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"nonce\", type: \"uint256\" },\n      { internalType: \"address\", name: \"destAddr\", type: \"address\" },\n      { internalType: \"uint256\", name: \"amount\", type: \"uint256\" },\n      { internalType: \"bytes\", name: \"data\", type: \"bytes\" },\n    ],\n    name: \"sendUnsignedTransaction\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"newSource\", type: \"address\" }],\n    name: \"updateWhitelistSource\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"whitelist\",\n    outputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n];\n\n// https://github.com/ethereum-optimism/optimism/blob/2bd49730fa8d2c10953873f0ccc792198a49d5c9/packages/contracts/contracts/optimistic-ethereum/iOVM/bridge/tokens/iOVM_L1StandardBridge.sol\nconst OVM_L1StandardBridgeABI = [\n  \"function depositETH(uint32 _l2Gas,bytes calldata _data) external payable\",\n  \"function depositETHTo(address _to,uint32 _l2Gas,bytes calldata _data) external payable\",\n  \"function finalizeETHWithdrawal (address _from,address _to,uint _amount,bytes calldata _data) external\",\n];\n\nconst L1BridgeMetadata = {\n  // Arbitrium Contract's\n  44010: {\n    contracts: {\n      Inbox: {\n        address: \"0xA4d796Ad4e79aFB703340a596AEd88f8a5924183\",\n        abi: ArbitrumInboxABI,\n      },\n    },\n  },\n  4: {\n    contracts: {\n      Inbox: {\n        address: \"0x578bade599406a8fe3d24fd7f7211c0911f5b29e\",\n        abi: ArbitrumInboxABI,\n      },\n    },\n  },\n  // Optimism Contract's\n  31337: {\n    contracts: {\n      OVM_L1StandardBridge: {\n        address: \"0x998abeb3E57409262aE5b751f60747921B33613E\",\n        abi: OVM_L1StandardBridgeABI,\n      },\n    },\n  },\n  42: {\n    contracts: {\n      OVM_L1StandardBridge: {\n        address: \"0x22F24361D548e5FaAfb36d1437839f080363982B\",\n        abi: OVM_L1StandardBridgeABI,\n      },\n    },\n  },\n};\n"]},"metadata":{},"sourceType":"module"}