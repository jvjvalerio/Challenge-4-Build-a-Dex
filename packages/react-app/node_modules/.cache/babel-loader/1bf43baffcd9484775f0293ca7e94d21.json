{"ast":null,"code":"import React,{useRef,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Curve(props){var ref=useRef();var drawArrow=function drawArrow(ctx,x1,y1,x2,y2){var dx=x1-x2,dy=y1-y2;var norm=Math.sqrt(dx*dx+dy*dy);var udx=dx/norm,udy=dy/norm;var size=norm/7;ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke();ctx.moveTo(x2,y2);ctx.lineTo(x2+udx*size-udy*size,y2+udx*size+udy*size);ctx.moveTo(x2,y2);ctx.lineTo(x2+udx*size+udy*size,y2-udx*size+udy*size);ctx.stroke();};useEffect(function(){var canvas=ref.current;var textSize=12;var width=canvas.width;var height=canvas.height;if(canvas.getContext&&props.ethReserve&&props.tokenReserve){var k=props.ethReserve*props.tokenReserve;var ctx=canvas.getContext(\"2d\");ctx.clearRect(0,0,width,height);var maxX=k/(props.ethReserve/4);var minX=0;if(props.addingEth||props.addingToken){maxX=k/(props.ethReserve*0.4);//maxX = k/(props.ethReserve*0.8)\nminX=k/Math.max(0,500-props.ethReserve);}var maxY=maxX*height/width;var minY=minX*height/width;var plotX=function plotX(x){return(x-minX)/(maxX-minX)*width;};var plotY=function plotY(y){return height-(y-minY)/(maxY-minY)*height;};ctx.strokeStyle=\"#000000\";ctx.fillStyle=\"#000000\";ctx.font=textSize+\"px Arial\";// +Y axis\nctx.beginPath();ctx.moveTo(plotX(minX),plotY(0));ctx.lineTo(plotX(minX),plotY(maxY));ctx.stroke();// +X axis\nctx.beginPath();ctx.moveTo(plotX(0),plotY(minY));ctx.lineTo(plotX(maxX),plotY(minY));ctx.stroke();ctx.lineWidth=2;ctx.beginPath();var first=true;for(var x=minX;x<=maxX;x+=maxX/width){/////\nvar y=k/x;/////\nif(first){ctx.moveTo(plotX(x),plotY(y));first=false;}else{ctx.lineTo(plotX(x),plotY(y));}}ctx.stroke();ctx.lineWidth=1;if(props.addingEth){var newEthReserve=props.ethReserve+parseFloat(props.addingEth);ctx.fillStyle=\"#bbbbbb\";ctx.beginPath();ctx.arc(plotX(newEthReserve),plotY(k/newEthReserve),5,0,2*Math.PI);ctx.fill();ctx.strokeStyle=\"#009900\";drawArrow(ctx,plotX(props.ethReserve),plotY(props.tokenReserve),plotX(newEthReserve),plotY(props.tokenReserve));ctx.fillStyle=\"#000000\";ctx.fillText(\"\"+props.addingEth+\" ETH input\",plotX(props.ethReserve)+textSize,plotY(props.tokenReserve)-textSize);ctx.strokeStyle=\"#990000\";drawArrow(ctx,plotX(newEthReserve),plotY(props.tokenReserve),plotX(newEthReserve),plotY(k/newEthReserve));var amountGained=Math.round(10000*(props.addingEth*props.tokenReserve)/newEthReserve)/10000;ctx.fillStyle=\"#000000\";ctx.fillText(\"\"+amountGained+\" ðŸŽˆ output (-0.3% fee)\",plotX(newEthReserve)+textSize,plotY(k/newEthReserve));}else if(props.addingToken){var newTokenReserve=props.tokenReserve+parseFloat(props.addingToken);ctx.fillStyle=\"#bbbbbb\";ctx.beginPath();ctx.arc(plotX(k/newTokenReserve),plotY(newTokenReserve),5,0,2*Math.PI);ctx.fill();//console.log(\"newTokenReserve\",newTokenReserve)\nctx.strokeStyle=\"#990000\";drawArrow(ctx,plotX(props.ethReserve),plotY(props.tokenReserve),plotX(props.ethReserve),plotY(newTokenReserve));ctx.fillStyle=\"#000000\";ctx.fillText(\"\"+props.addingToken+\" ðŸŽˆ input\",plotX(props.ethReserve)+textSize,plotY(props.tokenReserve));ctx.strokeStyle=\"#009900\";drawArrow(ctx,plotX(props.ethReserve),plotY(newTokenReserve),plotX(k/newTokenReserve),plotY(newTokenReserve));var _amountGained=Math.round(10000*(props.addingToken*props.ethReserve)/newTokenReserve)/10000;//console.log(\"amountGained\",amountGained)\nctx.fillStyle=\"#000000\";ctx.fillText(\"\"+_amountGained+\" ETH output (-0.3% fee)\",plotX(k/newTokenReserve)+textSize,plotY(newTokenReserve)-textSize);}ctx.fillStyle=\"#0000FF\";ctx.beginPath();ctx.arc(plotX(props.ethReserve),plotY(props.tokenReserve),5,0,2*Math.PI);ctx.fill();}},[props]);return/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\",width:props.width,height:props.height},children:[/*#__PURE__*/_jsx(\"canvas\",{style:{position:\"absolute\",left:0,top:0},ref:ref,width:props.width,height:props.height}),/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",left:\"20%\",bottom:-20},children:\"-- ETH Reserve -->\"}),/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",left:-20,bottom:\"20%\",transform:\"rotate(-90deg)\",transformOrigin:\"0 0\"},children:\"-- Token Reserve -->\"})]});}","map":{"version":3,"sources":["/Users/untitled/challenge-4-single-pool-dex/packages/react-app/src/components/Curve.jsx"],"names":["React","useRef","useEffect","Curve","props","ref","drawArrow","ctx","x1","y1","x2","y2","dx","dy","norm","Math","sqrt","udx","udy","size","beginPath","moveTo","lineTo","stroke","canvas","current","textSize","width","height","getContext","ethReserve","tokenReserve","k","clearRect","maxX","minX","addingEth","addingToken","max","maxY","minY","plotX","x","plotY","y","strokeStyle","fillStyle","font","lineWidth","first","newEthReserve","parseFloat","arc","PI","fill","fillText","amountGained","round","newTokenReserve","position","left","top","bottom","transform","transformOrigin"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from \"react\";\n\nexport default function Curve(props) {\n  let ref = useRef();\n\n  const drawArrow = (ctx, x1, y1, x2, y2) => {\n    let [dx, dy] = [x1 - x2, y1 - y2];\n    let norm = Math.sqrt(dx * dx + dy * dy);\n    let [udx, udy] = [dx / norm, dy / norm];\n    const size = norm / 7;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.moveTo(x2, y2);\n    ctx.lineTo(x2 + udx * size - udy * size, y2 + udx * size + udy * size);\n    ctx.moveTo(x2, y2);\n    ctx.lineTo(x2 + udx * size + udy * size, y2 - udx * size + udy * size);\n    ctx.stroke();\n  };\n\n  useEffect(() => {\n    let canvas = ref.current;\n\n    const textSize = 12;\n\n    const width = canvas.width;\n    const height = canvas.height;\n\n    if (canvas.getContext && props.ethReserve && props.tokenReserve) {\n      const k = props.ethReserve * props.tokenReserve;\n\n      const ctx = canvas.getContext(\"2d\");\n      ctx.clearRect(0, 0, width, height);\n\n      let maxX = k / (props.ethReserve / 4);\n      let minX = 0;\n\n      if (props.addingEth || props.addingToken) {\n        maxX = k / (props.ethReserve * 0.4);\n        //maxX = k/(props.ethReserve*0.8)\n        minX = k / Math.max(0, 500 - props.ethReserve);\n      }\n\n      const maxY = (maxX * height) / width;\n      const minY = (minX * height) / width;\n\n      const plotX = x => {\n        return ((x - minX) / (maxX - minX)) * width;\n      };\n\n      const plotY = y => {\n        return height - ((y - minY) / (maxY - minY)) * height;\n      };\n      ctx.strokeStyle = \"#000000\";\n      ctx.fillStyle = \"#000000\";\n      ctx.font = textSize + \"px Arial\";\n      // +Y axis\n      ctx.beginPath();\n      ctx.moveTo(plotX(minX), plotY(0));\n      ctx.lineTo(plotX(minX), plotY(maxY));\n      ctx.stroke();\n      // +X axis\n      ctx.beginPath();\n      ctx.moveTo(plotX(0), plotY(minY));\n      ctx.lineTo(plotX(maxX), plotY(minY));\n      ctx.stroke();\n\n      ctx.lineWidth = 2;\n      ctx.beginPath();\n      let first = true;\n      for (var x = minX; x <= maxX; x += maxX / width) {\n        /////\n        var y = k / x;\n        /////\n        if (first) {\n          ctx.moveTo(plotX(x), plotY(y));\n          first = false;\n        } else {\n          ctx.lineTo(plotX(x), plotY(y));\n        }\n      }\n      ctx.stroke();\n\n      ctx.lineWidth = 1;\n\n      if (props.addingEth) {\n        let newEthReserve = props.ethReserve + parseFloat(props.addingEth);\n\n        ctx.fillStyle = \"#bbbbbb\";\n        ctx.beginPath();\n        ctx.arc(plotX(newEthReserve), plotY(k / newEthReserve), 5, 0, 2 * Math.PI);\n        ctx.fill();\n\n        ctx.strokeStyle = \"#009900\";\n        drawArrow(\n          ctx,\n          plotX(props.ethReserve),\n          plotY(props.tokenReserve),\n          plotX(newEthReserve),\n          plotY(props.tokenReserve),\n        );\n\n        ctx.fillStyle = \"#000000\";\n        ctx.fillText(\n          \"\" + props.addingEth + \" ETH input\",\n          plotX(props.ethReserve) + textSize,\n          plotY(props.tokenReserve) - textSize,\n        );\n\n        ctx.strokeStyle = \"#990000\";\n        drawArrow(ctx, plotX(newEthReserve), plotY(props.tokenReserve), plotX(newEthReserve), plotY(k / newEthReserve));\n\n        let amountGained = Math.round((10000 * (props.addingEth * props.tokenReserve)) / newEthReserve) / 10000;\n        ctx.fillStyle = \"#000000\";\n        ctx.fillText(\n          \"\" + amountGained + \" ðŸŽˆ output (-0.3% fee)\",\n          plotX(newEthReserve) + textSize,\n          plotY(k / newEthReserve),\n        );\n      } else if (props.addingToken) {\n        let newTokenReserve = props.tokenReserve + parseFloat(props.addingToken);\n\n        ctx.fillStyle = \"#bbbbbb\";\n        ctx.beginPath();\n        ctx.arc(plotX(k / newTokenReserve), plotY(newTokenReserve), 5, 0, 2 * Math.PI);\n        ctx.fill();\n\n        //console.log(\"newTokenReserve\",newTokenReserve)\n        ctx.strokeStyle = \"#990000\";\n        drawArrow(\n          ctx,\n          plotX(props.ethReserve),\n          plotY(props.tokenReserve),\n          plotX(props.ethReserve),\n          plotY(newTokenReserve),\n        );\n\n        ctx.fillStyle = \"#000000\";\n        ctx.fillText(\n          \"\" + props.addingToken + \" ðŸŽˆ input\",\n          plotX(props.ethReserve) + textSize,\n          plotY(props.tokenReserve),\n        );\n\n        ctx.strokeStyle = \"#009900\";\n        drawArrow(\n          ctx,\n          plotX(props.ethReserve),\n          plotY(newTokenReserve),\n          plotX(k / newTokenReserve),\n          plotY(newTokenReserve),\n        );\n\n        let amountGained = Math.round((10000 * (props.addingToken * props.ethReserve)) / newTokenReserve) / 10000;\n        //console.log(\"amountGained\",amountGained)\n        ctx.fillStyle = \"#000000\";\n        ctx.fillText(\n          \"\" + amountGained + \" ETH output (-0.3% fee)\",\n          plotX(k / newTokenReserve) + textSize,\n          plotY(newTokenReserve) - textSize,\n        );\n      }\n\n      ctx.fillStyle = \"#0000FF\";\n      ctx.beginPath();\n      ctx.arc(plotX(props.ethReserve), plotY(props.tokenReserve), 5, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n  }, [props]);\n\n  return (\n    <div style={{ position: \"relative\", width: props.width, height: props.height }}>\n      <canvas style={{ position: \"absolute\", left: 0, top: 0 }} ref={ref} width={props.width} height={props.height} />\n      <div style={{ position: \"absolute\", left: \"20%\", bottom: -20 }}>-- ETH Reserve --></div>\n      <div\n        style={{ position: \"absolute\", left: -20, bottom: \"20%\", transform: \"rotate(-90deg)\", transformOrigin: \"0 0\" }}\n      >\n        -- Token Reserve -->\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}